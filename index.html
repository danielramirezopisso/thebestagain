<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Best Again</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body class="home-bg" onload="initHomePage()">
  <header class="topbar topbar-sticky">
    <a class="brand" href="index.html">The Best Again</a>
    <nav class="nav">
      <a class="active" href="index.html">Home</a>
      <a href="list.html">List</a>
      <a href="map.html">Map</a>
      <a href="products.html">Products</a>
      <a href="my-votes.html">My Votes</a>
      <span id="authStatus" class="auth-pill" style="margin-left:12px;"></span>
    </nav>
  </header>

  <main class="container home">
    <!-- HERO -->
    <section class="home-hero">
      <div>
        <h1 class="home-title">The Best Again</h1>
        <p class="home-tagline">
          A personal hunt for the best bites & products â€” one surprise at a time.
        </p>
        <p class="home-hint">
          Shortcuts: <b>M</b> Map Â· <b>L</b> List Â· <b>P</b> Products Â· <b>R</b> Surprise
        </p>
      </div>

      <div class="home-actions">
        <a class="tba-btn tba-btn-primary" href="map.html">ğŸ—ºï¸ Map</a>
        <a class="tba-btn" href="list.html">ğŸ“‹ List</a>
        <a class="tba-btn" href="products.html">ğŸ›’ Products</a>
      </div>
    </section>

    <!-- Explore by craving (TOP) -->
    <section class="card cravings">
      <div class="cravings-header">
        <h2 style="margin:0;">Explore by craving</h2>
        <span class="muted">Quick category shortcuts</span>
      </div>

      <div class="cravings-split">
        <div class="cravings-block">
          <div class="cravings-block-title">Places</div>
          <div id="chipRowPlaces" class="chip-row"></div>
        </div>

        <div class="cravings-block">
          <div class="cravings-block-title">Products</div>
          <div id="chipRowProducts" class="chip-row"></div>
        </div>
      </div>
    </section>

    <!-- Spotlight + Recent (fills remaining height) -->
    <section class="home-grid">
      <section class="card spotlight">
        <div class="spotlight-header">
          <div class="spotlight-title">
            <span class="spotlight-dice">ğŸ²</span>
            <div>
              <div class="spotlight-kicker">Spotlight Surprise</div>
              <div class="spotlight-sub muted" id="spotSub">Loading something tastyâ€¦</div>
            </div>
          </div>

          <button class="tba-btn tba-btn-ghost" id="btnSurprise" onclick="surpriseMe()">ğŸ” Surprise</button>
        </div>

        <div id="spotBody" class="spotlight-body"></div>

        <div class="spotlight-footer">
          <span class="muted" id="spotStatus"></span>
        </div>
      </section>

      <section class="card recent">
        <div class="recent-header">
          <h2 style="margin:0;">Recently added</h2>
          <span class="muted" id="recentStatus"></span>
        </div>
        <div id="recentList" class="recent-list"></div>
      </section>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="auth.js"></script>
  <script src="header-auth.js"></script>
  <script>renderAuthHeader();</script>

  <script src="home.js?v=2"></script>
</body>
</html>
